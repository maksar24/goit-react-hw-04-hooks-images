{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Modal/Modal.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/API.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","Components/Loader/Loader.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/SearchBar.module.css","App.module.css"],"names":["module","exports","fetchPictures","query","page","a","axios","get","Searchbar","state","getQuery","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","collection","actionBackground","map","el","onClick","src","webformatURL","alt","tags","largeImageURL","ImageGalleryItem_image","id","Button","action","ImageGallery","actionButton","Container","length","CustomLoader","Loader","color","height","width","timeout","Modal","handleKeyESC","code","onClickModal","handleModal","target","window","addEventListener","removeEventListener","openModal","Overlay","App","pictures","error","loading","currentPage","modalContent","nextPage","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","cleanData","toggleModal","onClickPicture","dataset","source","prevProps","prevState","then","data","hits","catch","finally","Title","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.98a5cd11.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2LGhg\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__TKH61\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2ikem\",\"Container\":\"ImageGallery_Container__11jdx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3vuoK\",\"Modal\":\"Modal_Modal__39upg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__uPaIM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__UDjAO\"};","import axios from \"axios\";\n\nexport const fetchPictures = async (query, page) => {\n  return await axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=22033849-04a58a8d7b6d53f5d68e2165a&image_type=photo&orientation=horizontal&per_page=12`\n  );\n};\n","import React, { Component } from \"react\";\nimport styles from \"./SearchBar.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport class Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  getQuery = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.getQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport const ImageGalleryItem = ({ collection, actionBackground }) => {\n  return collection.map((el) => (\n    <li\n      key={el.id}\n      className={styles.ImageGalleryItem}\n      onClick={actionBackground}\n    >\n      <img\n        src={el.webformatURL}\n        alt={el.tags}\n        data-source={el.largeImageURL}\n        className={styles.ImageGalleryItem_image}\n      />\n    </li>\n  ));\n};\n\nImageGalleryItem.propTypes = {\n  collection: PropTypes.array.isRequired,\n  actionBackground: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport styles from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport const Button = ({ action }) => {\n  return (\n    <button className={styles.Button} onClick={action}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  action: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"../Button/Button\";\nimport styles from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport const ImageGallery = ({\n  collection,\n  actionButton,\n  actionBackground,\n}) => {\n  return (\n    <div className={styles.Container}>\n      <ul className={styles.ImageGallery}>\n        <ImageGalleryItem\n          collection={collection}\n          actionBackground={actionBackground}\n        />\n      </ul>\n      {collection.length > 11 && <Button action={actionButton} />}\n    </div>\n  );\n};\n\nImageGallery.propTypes = {\n  collection: PropTypes.array.isRequired,\n  actionButton: PropTypes.func.isRequired,\n  actionBackground: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport styles from \"./Loader.module.css\";\n\nexport const CustomLoader = () => {\n  return (\n    <Loader\n      className={styles.Loader}\n      type=\"Rings\"\n      color=\"#00FA9A\"\n      height={800}\n      width={900}\n      timeout={3000}\n    />\n  );\n};\n","import React, { Component } from \"react\";\nimport styles from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyESC);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyESC);\n  }\n\n  handleKeyESC = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClickModal();\n    }\n  };\n\n  handleModal = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClickModal();\n    }\n  };\n\n  render() {\n    const { largeImageURL, openModal } = this.props;\n\n    return openModal ? (\n      <div className={styles.Overlay} onClick={this.handleModal}>\n        <div className={styles.Modal}>\n          <img src={largeImageURL} alt=\"\" />\n        </div>\n      </div>\n    ) : null;\n  }\n}\n\nModal.propTypes = {\n  onClickModal: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport styles from \"./App.module.css\";\nimport { fetchPictures } from \"./Components/API\";\nimport { Searchbar } from \"./Components/Searchbar/Searchbar\";\nimport { ImageGallery } from \"./Components/ImageGallery/ImageGallery\";\nimport { CustomLoader } from \"./Components/Loader/Loader\";\nimport { Modal } from \"./Components/Modal/Modal\";\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    error: null,\n    loading: false,\n    currentPage: 1,\n    query: \"\",\n    openModal: false,\n    modalContent: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentPage, query } = this.state;\n\n    if (prevState.currentPage !== currentPage || prevState.query !== query) {\n      if (prevState.query !== query) {\n        this.cleanData();\n      }\n\n      this.setState({ loading: true });\n      fetchPictures(query, currentPage)\n        .then((el) => {\n          this.setState((prevState) => ({\n            pictures: [...prevState.pictures, ...el.data.hits],\n          }));\n        })\n        .catch(() => {\n          this.setState({ error: \"error\" });\n        })\n        .finally(() => {\n          this.scroll();\n          this.setState({ loading: false });\n        });\n    }\n  }\n\n  nextPage = () => {\n    this.setState({ currentPage: this.state.currentPage + 1 });\n  };\n\n  handleSubmit = (value) => {\n    this.setState({ query: value });\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  cleanData = () => {\n    this.setState({ pictures: [] });\n  };\n\n  toggleModal = () => {\n    this.setState(({ openModal }) => ({\n      openModal: !openModal,\n    }));\n  };\n\n  onClickPicture = (e) => {\n    this.setState({ modalContent: e.target.dataset.source });\n    this.toggleModal();\n  };\n\n  render() {\n    const { loading, error, pictures, query, openModal, modalContent } =\n      this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSubmit} />\n        {loading && <CustomLoader />}\n        {error ? (\n          <h2 className={styles.Title}>error (ಠ_ಠ) error</h2>\n        ) : query === \"\" ? (\n          <h2 className={styles.Title}>Try to look for something 🔍</h2>\n        ) : (\n          <ImageGallery\n            collection={pictures}\n            actionButton={this.nextPage}\n            actionBackground={this.onClickPicture}\n          />\n        )}\n        <Modal\n          onClickModal={this.toggleModal}\n          largeImageURL={modalContent}\n          openModal={openModal}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__sMxlI\",\"SearchForm\":\"SearchBar_SearchForm__pkSgi\",\"SearchForm_button\":\"SearchBar_SearchForm_button__1IbMA\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__39IGr\",\"SearchForm_input\":\"SearchBar_SearchForm_input__3Ypuy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2buC1\",\"Title\":\"App_Title__kK838\"};"],"sourceRoot":""}