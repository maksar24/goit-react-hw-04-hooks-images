(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2LGhg",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__TKH61"}},12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2ikem",Container:"ImageGallery_Container__11jdx"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3vuoK",Modal:"Modal_Modal__39upg"}},26:function(e,t,a){e.exports={Button:"Button_Button__uPaIM"}},28:function(e,t,a){e.exports={Loader:"Loader_Loader__UDjAO"}},33:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__sMxlI",SearchForm:"SearchBar_SearchForm__pkSgi",SearchForm_button:"SearchBar_SearchForm_button__1IbMA",SearchForm_button_label:"SearchBar_SearchForm_button_label__39IGr",SearchForm_input:"SearchBar_SearchForm_input__3Ypuy"}},74:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),o=a.n(r),i=(a(33),a(14)),l=a(4),s=a(8),u=a.n(s),m=a(10),b=a.n(m),j=a(24),h=a(25),_=a.n(h),d=function(){var e=Object(j.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=22033849-04a58a8d7b6d53f5d68e2165a&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=a(5),g=a.n(p),f=a(1);function O(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(l.a)(a,2),r=c[0],o=c[1];return Object(f.jsx)("header",{className:g.a.Searchbar,children:Object(f.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(f.jsx)("button",{type:"submit",className:g.a.SearchForm_button,children:Object(f.jsx)("span",{className:g.a.SearchForm_button_label,children:"Search"})}),Object(f.jsx)("input",{className:g.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})]})})}var x=a(11),S=a.n(x),y=function(e){var t=e.collection,a=e.actionBackground;return t.map((function(e){return Object(f.jsx)("li",{className:S.a.ImageGalleryItem,onClick:a,children:Object(f.jsx)("img",{src:e.webformatURL,alt:e.tags,"data-source":e.largeImageURL,className:S.a.ImageGalleryItem_image})},e.id)}))},I=a(26),v=a.n(I),k=function(e){var t=e.action;return Object(f.jsx)("button",{className:v.a.Button,onClick:t,children:"Load more"})},w=a(12),B=a.n(w),N=function(e){var t=e.collection,a=e.actionButton,n=e.actionBackground;return Object(f.jsxs)("div",{className:B.a.Container,children:[Object(f.jsx)("ul",{className:B.a.ImageGallery,children:Object(f.jsx)(y,{collection:t,actionBackground:n})}),t.length>11&&Object(f.jsx)(k,{action:a})]})},G=a(27),F=a.n(G),L=a(28),C=a.n(L),M=function(){return Object(f.jsx)(F.a,{className:C.a.Loader,type:"Rings",color:"#00FA9A",height:800,width:900,timeout:3e3})},A=a(13),T=a.n(A);function E(e){var t=e.onClickModal,a=e.largeImageURL;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(f.jsx)("div",{className:T.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(f.jsx)("div",{className:T.a.Modal,children:Object(f.jsx)("img",{src:a,alt:""})})})}function R(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(l.a)(r,2),s=o[0],m=o[1],b=Object(n.useState)(""),j=Object(l.a)(b,2),h=j[0],_=j[1],p=Object(n.useState)(1),g=Object(l.a)(p,2),x=g[0],S=g[1],y=Object(n.useState)(null),I=Object(l.a)(y,2),v=I[0],k=I[1],w=Object(n.useState)(null),B=Object(l.a)(w,2),G=B[0],F=B[1],L=Object(n.useState)(!1),C=Object(l.a)(L,2),A=C[0],T=C[1];Object(n.useEffect)((function(){m(!0),d(h,x).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))})).finally((function(){U(),m(!1)}))}),[h,x]);var R=function(){return T(!A)},U=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(f.jsxs)("div",{className:u.a.App,children:[Object(f.jsx)(O,{onSubmit:function(e){e!==h&&(c([]),_(e),S(1),k(null))}}),s&&Object(f.jsx)(M,{}),v?Object(f.jsx)("h2",{className:u.a.Title,children:"error (\u0ca0_\u0ca0) error"}):""===h?Object(f.jsx)("h2",{className:u.a.Title,children:"Try to look for something \ud83d\udd0d"}):Object(f.jsx)(N,{collection:a,actionButton:function(){return S(x+1)},actionBackground:function(e){F(e.target.dataset.source),R()}}),A&&Object(f.jsx)(E,{onClickModal:R,largeImageURL:G})]})}o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={App:"App_App__2buC1",Title:"App_Title__kK838"}}},[[74,1,2]]]);
//# sourceMappingURL=main.7846c100.chunk.js.map