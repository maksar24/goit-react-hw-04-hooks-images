(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2LGhg",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__TKH61"}},12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2ikem",Container:"ImageGallery_Container__11jdx"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3vuoK",Modal:"Modal_Modal__39upg"}},26:function(e,t,a){e.exports={Button:"Button_Button__uPaIM"}},28:function(e,t,a){e.exports={Loader:"Loader_Loader__UDjAO"}},37:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__sMxlI",SearchForm:"SearchBar_SearchForm__pkSgi",SearchForm_button:"SearchBar_SearchForm_button__1IbMA",SearchForm_button_label:"SearchBar_SearchForm_button_label__39IGr",SearchForm_input:"SearchBar_SearchForm_input__3Ypuy"}},78:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),o=a.n(r),l=(a(37),a(14)),i=a(4),s=a(8),u=a.n(s),m=a(10),h=a.n(m),b=a(24),j=a(25),d=a.n(j),p=function(){var e=Object(b.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=22033849-04a58a8d7b6d53f5d68e2165a&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=a(5),g=a.n(_),O=a(1);function f(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(O.jsx)("header",{className:g.a.Searchbar,children:Object(O.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(O.jsx)("button",{type:"submit",className:g.a.SearchForm_button,children:Object(O.jsx)("span",{className:g.a.SearchForm_button_label,children:"Search"})}),Object(O.jsx)("input",{className:g.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})]})})}var x=a(11),S=a.n(x),y=function(e){var t=e.collection,a=e.actionBackground;return t.map((function(e){return Object(O.jsx)("li",{className:S.a.ImageGalleryItem,onClick:a,children:Object(O.jsx)("img",{src:e.webformatURL,alt:e.tags,"data-source":e.largeImageURL,className:S.a.ImageGalleryItem_image})},e.id)}))},v=a(26),I=a.n(v),k=function(e){var t=e.action;return Object(O.jsx)("button",{className:I.a.Button,onClick:t,children:"Load more"})},w=a(12),M=a.n(w),B=function(e){var t=e.collection,a=e.actionButton,n=e.actionBackground;return Object(O.jsxs)("div",{className:M.a.Container,children:[Object(O.jsx)("ul",{className:M.a.ImageGallery,children:Object(O.jsx)(y,{collection:t,actionBackground:n})}),t.length>11&&Object(O.jsx)(k,{action:a})]})},C=a(27),N=a.n(C),G=a(28),F=a.n(G),L=function(){return Object(O.jsx)(N.a,{className:F.a.Loader,type:"Rings",color:"#00FA9A",height:800,width:900,timeout:3e3})},A=a(29),E=a(30),T=a(32),K=a(31),U=a(13),R=a.n(U),D=function(e){Object(T.a)(a,e);var t=Object(K.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleKeyESC=function(t){"Escape"===t.code&&e.props.onClickModal()},e.handleModal=function(t){t.currentTarget===t.target&&e.props.onClickModal()},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyESC)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyESC)}},{key:"render",value:function(){var e=this.props,t=e.largeImageURL;return e.openModal?Object(O.jsx)("div",{className:R.a.Overlay,onClick:this.handleModal,children:Object(O.jsx)("div",{className:R.a.Modal,children:Object(O.jsx)("img",{src:t,alt:""})})}):null}}]),a}(n.Component);function H(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(i.a)(r,2),s=o[0],m=o[1],h=Object(n.useState)(""),b=Object(i.a)(h,2),j=b[0],d=b[1],_=Object(n.useState)(1),g=Object(i.a)(_,2),x=g[0],S=g[1],y=Object(n.useState)(null),v=Object(i.a)(y,2),I=v[0],k=v[1],w=Object(n.useState)(null),M=Object(i.a)(w,2),C=M[0],N=M[1],G=Object(n.useState)(!1),F=Object(i.a)(G,2),A=F[0],E=F[1];Object(n.useEffect)((function(){m(!0),p(j,x).then((function(e){c((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))}))})).finally((function(){K(),m(!1)}))}),[j,x]);var T=function(){return E(!A)},K=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(O.jsxs)("div",{className:u.a.App,children:[Object(O.jsx)(f,{onSubmit:function(e){e!==j&&(c([]),d(e),S(1),k(null))}}),s&&Object(O.jsx)(L,{}),I?Object(O.jsx)("h2",{className:u.a.Title,children:"error (\u0ca0_\u0ca0) error"}):""===j?Object(O.jsx)("h2",{className:u.a.Title,children:"Try to look for something \ud83d\udd0d"}):Object(O.jsx)(B,{collection:a,actionButton:function(){return S(x+1)},actionBackground:function(e){N(e.target.dataset.source),T()}}),Object(O.jsx)(D,{onClickModal:T,largeImageURL:C,openModal:A})]})}o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(H,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={App:"App_App__2buC1",Title:"App_Title__kK838"}}},[[78,1,2]]]);
//# sourceMappingURL=main.38f450ad.chunk.js.map